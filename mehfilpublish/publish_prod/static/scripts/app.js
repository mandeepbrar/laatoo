!function(){"use strict";angular.module("view",["ngResource","ngStorage","ui.router","ui.bootstrap"])}(),function(){"use strict";function t(t){var e=t(pageConf.ViewsServer);return e}var e=angular.module("view");e.factory("ViewService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(){function t(t,e,n,o){var i=n.name;n["class"]&&(t["class"]="class="+n["class"]),t.viewrows=o.query({viewname:i})}var e={restrict:"E",templateUrl:function(t,e){return"ul"===e.viewtype?"app/components/links/ul.view.html":"table"===e.viewtype?"app/components/view/table.view.html":"app/components/view/view.view.html"},replace:!0,scope:{},transclude:!0,controller:t,controllerAs:"view",bindToController:!0};return t.$inject=["$scope","$element","$attrs","ViewService"],e}angular.module("view").directive("view",t)}(),function(){"use strict";angular.module("login",["ngResource","ngStorage","ui.router","ui.bootstrap"])}(),function(){"use strict";function t(){function t(t,e,n){n.name;n["class"]&&(t["class"]="class="+n["class"]);n.social;n.social&&(t.social=!0);n.signup;n.signup&&(t.signup=!0)}var e={restrict:"E",templateUrl:"app/components/login/login.view.html",replace:!0,controller:t,controllerAs:"login",bindToController:!0};return t.$inject=["$scope","$element","$attrs"],e}angular.module("login").directive("login",t)}(),function(){"use strict";function t(t,e,n,o,i){t.login=function(){{var e=t.username,n=t.password;i.login({Id:e,Password:n},function(t,e){localStorage.auth=e(pageConf.AuthToken),window.location.href=pageConf.SuccessRedirect},function(t){console.log("err"+t)})}}}var e=angular.module("login");e.controller("LoginController",t),t.$inject=["$scope","$state","$location","$localStorage","AuthenticationService"]}(),function(){"use strict";function t(t){var e=t(pageConf.LocalAuthServer,{},{login:{method:"POST"}});return e}var e=angular.module("login");e.factory("AuthenticationService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){t.setType({name:"ckeditor","extends":"textarea"}),t.templateManipulators.preWrapper.push(function(t,e,n){return"ckeditor"==e.type&&(e.ngModelAttrs={ckeditor:{attribute:"ckeditor"}},e.templateOptions||(e.templateOptions={}),e.templateOptions.ckeditor=""),t})}var e=angular.module("entity",["ngResource","ui.bootstrap","formly","formlyBootstrap","ckeditor"]);e.config(t),t.$inject=["formlyConfigProvider"]}(),function(){"use strict";function t(){function t(t,n,o,i){e=t,o["class"]&&(t["class"]="class="+o["class"]);var r;if(!o.name)throw new Error("Server error. Entity name missing");r=o.name;var a=window.pageConf.entities[r];t.entity=a,t.id=o.id,t.submitText="Submit",o.submitText&&(t.submitText=o.submitText);var l=null;o.id&&(l=o.id),t.onSubmit=function(){var e=t.id;null!=e?(t.entity.model.Id=e,i.put(a.url+"/"+e,t.entity.model).then(function(t){console.log(t)},function(t){console.log("error communicating with server")})):i.post(a.url,t.entity.model).then(function(t){console.log(t)},function(t){console.log(t),console.log("error communicating with server")})},null!=l&&o.$observe("id",function(e){return t.id=e,i.get(a.url+"/"+e).then(function(e){var n=e.data;t.entity.model=n},function(t){console.log("error communicating with server")})})}var e,n={restrict:"E",templateUrl:"app/components/entity/entityform.view.html",scope:{},replace:!0,controller:t,controllerAs:"entityform",bindToController:!0};return t.$inject=["$scope","$element","$attrs","$http"],n}angular.module("entity").directive("entityform",t)}(),function(){"use strict";function t(){function t(t,e,n,o){n["class"]&&(t["class"]="class="+n["class"]);var i;if(!n.name)throw new Error("Server error. Entity name missing");i=n.name;var r;if(!n.id)throw new Error("Server error. Entity id missing");r=n.id;var a=window.pageConf.entities[i];n.$observe("id",function(e){return o.get(a.url+"/"+e).then(function(e){t.entitydata=e.data},function(t){console.log("error communicating with server")})})}var e={restrict:"E",templateUrl:"app/components/entity/entity.view.html",scope:{},replace:!0,transclude:!0,controller:t,controllerAs:"entity",bindToController:!0};return t.$inject=["$scope","$element","$attrs","$http"],e}angular.module("entity").directive("entity",t)}(),function(){"use strict";angular.module("actions",["ngResource","ngStorage","ui.router","ui.bootstrap","ui.router.tabs"])}(),function(){"use strict";function t(){function t(t,e,n,o){var i=n.name;n["class"]&&(t["class"]="class="+n["class"]);var r=i;n.view&&(r=n.view);try{var a=new Array,l=window.pageConf.actionset[i];for(var s in l){var c=l[s],u=c.action,p=window.pageConf.actions[u],m={};m.heading=c.label,m.route=u,m.actiontype=p.actiontype,a.push(m)}t.items=a}catch(d){console.log(d)}}var e={restrict:"E",templateUrl:function(t,e){return"menu"===e.widget?"app/components/actions/menu.view.html":"tab"===e.widget?"app/components/actions/tabs.view.html":"pills"===e.widget?"app/components/actions/pills.view.html":"app/components/actions/menu.view.html"},replace:!0,scope:{},controller:t,controllerAs:"actionset",bindToController:!0};return t.$inject=["$scope","$element","$attrs","$templateCache"],e}var e=angular.module("actions");e.directive("actionset",t)}(),function(){"use strict";function t(){function t(t,e,n,o){var i=n.name;n["class"]&&(t["class"]="class="+n["class"]),n.label&&(t.label=n.label),t.route=i,t.action=window.pageConf.actions[i]}var e={restrict:"E",templateUrl:function(t,e){return"button"===e.widget,"app/components/actions/button.view.html"},replace:!0,scope:{},controller:t,controllerAs:"action",bindToController:!0};return t.$inject=["$scope","$element","$attrs","$templateCache"],e}var e=angular.module("actions");e.directive("action",t)}(),function(){"use strict";function t(){var t=angular.injector(["ng"]),e=t.get("$http"),n=document.location.href,o=n.indexOf("#");o>0&&(n=n.substring(0,o));var i=n+"/conf";return e.get(i).then(function(t){window.pageConf.partials=t.data.partials,angular.element(document).ready(function(){angular.bootstrap(document,["main"])})},function(t){console.log("error communicating with server")})}angular.module("main",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","login","view","actions","entity"]);t()}(),function(){"use strict";function t(t){function e(t,e,n,o){t.params=o,console.log("assigned");n.name;t.confUrl=document.location.href+"/conf",n["class"]&&(t["class"]="class="+n["class"])}var n={restrict:"E",templateUrl:"app/page.view.html",transclude:!0,replace:!0,controller:e,controllerAs:"page",bindToController:!0};return e.$inject=["$scope","$element","$attrs","$stateParams"],n}angular.module("main").directive("page",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,n){for(var o=0;o<window.pageConf.partials.length;o++){var i=window.pageConf.partials[o];n.put(i.Path,i.Template)}try{var r=window.pageConf.actions;for(var a in r){var l=r[a],s=l.view,c=l.url,u=l.templatepath,p=(l.actiontype,l.viewmode,{});p[s]={templateUrl:u},e.stateProvider.state(a,{url:c,views:p})}e.urlRouteProvider.otherwise("/")}catch(m){console.log(m)}t.debug("runBlock end")}var e=angular.module("main").run(t);t.$inject=["$log","$templateCache"]}(),function(){"use strict";function t(t,e){}angular.module("main").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("main")}(),function(){"use strict";function t(t,n,o){e.stateProvider=t,e.urlRouteProvider=n}var e=angular.module("main").config(t);t.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"]}(),angular.module("main").run(["$templateCache",function(t){t.put("app/page.view.html",'<div ng-transclude=""></div>'),t.put("app/components/entity/entity.view.html",'<div ng-transclude=""></div>'),t.put("app/components/entity/entityform.view.html",'<form><formly-form model="entity.model" fields="entity.fields" ng-if="entity.tabbed!=true"></formly-form><tabset ng-if="entity.tabbed==true"><tab ng-repeat="tab in entity.tabs" heading="{{tab.label}}"><formly-form model="entity.model" fields="tab.fields"></formly-form></tab></tabset><formly-form model="entity.model"><button type="submit" class="btn btn-default" ng-click="onSubmit()">{{submitText}}</button></formly-form></form>'),t.put("app/components/actions/button.view.html",'<a class="btn btn-default" ui-sref="{{route}}" role="button">{{label}}s</a>'),t.put("app/components/actions/menu.view.html",'<div class="navbar navbar-default"><ul class="nav navbar-nav"><li ng-repeat="item in items"><a ng-href="{{item.route}}" ng-if="item.actiontype!=\'openpartialpage\'">{{item.heading}}</a> <a ui-sref="{{item.heading}}" ng-if="item.actiontype===\'openpartialpage\'">{{item.heading}}</a></li></ul></div>'),t.put("app/components/actions/pills.view.html",'<div class="row"><tabs data="items" type="pills" vertical="true"></tabs></div>'),t.put("app/components/actions/tabs.view.html",'<div class="row"><tabs data="items" type="tabs"></tabs></div>'),t.put("app/components/view/table.view.html",'<table class="table" ng-transclude=""></table>'),t.put("app/components/view/ul.view.html",'<div class="container"><ul ng-transclude=""></ul></div>'),t.put("app/components/view/view.view.html",'<div ng-transclude=""></div>'),t.put("app/components/login/login.view.html",'<div class="container loginbox" ng-controller="LoginController"><div class="row"><div class="main"><h3>Please Log In<div style="display:inline" ng-if="signup">, or <a href="#">Sign Up</a></div></h3><div class="row" ng-if="social"><div class="col-xs-6 col-sm-6 col-md-6"><a href="#" class="btn btn-lg btn-primary btn-block">Facebook</a></div><div class="col-xs-6 col-sm-6 col-md-6"><a href="#" class="btn btn-lg btn-info btn-block">Google</a></div></div><div class="login-or" ng-if="social"><hr class="hr-or"><span class="span-or">or</span></div><form role="form"><div class="form-group"><label for="inputUsernameEmail">Username or email</label> <input type="text" class="form-control" id="inputUsernameEmail" ng-model="username"></div><div class="form-group"><a class="pull-right" href="#">Forgot password?</a> <label for="inputPassword">Password</label> <input type="password" class="form-control" id="inputPassword" ng-model="password"></div><div class="checkbox pull-right"><label><input type="checkbox"> Remember me</label></div><button type="submit" ng-click="login()" class="btn btn btn-primary">Log In</button></form></div></div></div>')}]);