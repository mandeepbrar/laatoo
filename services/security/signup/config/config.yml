version: 0.0.1
description: 'Module provides sign up support for laatoo. Registration with and without workflow support is supported'
objects:
  REGISTRATION:
    type: service
    description: This service allows registration of users in the database.
    request:
      type: stringmap
    configurations:
      user_data_svc:
        type: string
        required: true
        description: User data service for registration service
      def_role:
        type: string
        required: true
        description: Default role to be assigned to a new user
      workflowname:
        type: string
        description: Workflow name to start for signup process
        variable: WorkflowName
      workflowsupport:
        type: bool
        description: Workflow support required for signup process
        variable: WorkflowSupport
      workflowinitiator:
        type: string
        description: Workflow initiator service
        inject: WorkflowInitiator
  SignupEmailTask:
    type: service
    description: Task processor for signup email tasks.
    configurations:
      SiteName: 
        type: string
        description: Site name to use in email body
        variable: SiteName
        required: true
      SiteLink: 
        type: string
        description: Link to use for verifying email
        required: true
        variable: SiteLink
      MailBody: 
        type: string
        description: Mail body to use for emails
        required: true
        variable: MailBody
      KeyPath: 
        type: string
        required: true
        description: Private key path to use for creating verification token
        variable: KeyPath
    request:
      params:
        Task: 
          type: bytes
          description: Bytes containing string map for signup task
params:
  workflowname: 
    type: string
    description: Workflow to be invoked on registration
  sitename: 
    type: string
    description: Site name to use in email body
  sitelink: 
    type: string
    description: Link to use for verifying email
  mailbody: 
    type: string
    description: Mail body to use for emails
  keypath: 
    type: string
    description: Private key path to use for creating verification token
